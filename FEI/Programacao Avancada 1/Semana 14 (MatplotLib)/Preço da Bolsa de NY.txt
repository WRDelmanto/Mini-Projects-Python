import matplotlib.pyplot as plt

import pandas



Date = []

Price = []

Year = []



def Substitute(dataframe, coluna, valor, por):

    dataframe[coluna] = dataframe[coluna].astype(str).str.replace(valor, por)

    

    return(dataframe)



def Reduce(dataframe, coluna):

    dataframe[coluna] = dataframe[coluna].astype(str).str[:4]

    

    return(dataframe)



dataframe = pandas.read_csv('SP500_prices_montly.csv')



del dataframe['Dividend']

del dataframe['Earnings']

del dataframe['Consumer Price Index']

del dataframe['Long Interest Rate']

del dataframe['Real Price']

del dataframe['Real Dividend']

del dataframe['Real Earnings']

del dataframe['PE10']



dataframe = Substitute(dataframe, 'Date', '-', '')

dataframe = Reduce(dataframe, 'Date')



for Index in range(1768):

    if Index <= 1547 or Index >= 1680:

        dataframe = dataframe.drop(Index, axis = 0)



fig, ax = plt.subplots() 



ax.bar(dataframe['Date'], dataframe['Price'])



ax.set_title('Preço Historico da Bolsa de NY')

ax.legend(['Preço da Bolsa de NY'])

ax.set_xlabel('Ano')

ax.set_ylabel('Preço')



plt.show()