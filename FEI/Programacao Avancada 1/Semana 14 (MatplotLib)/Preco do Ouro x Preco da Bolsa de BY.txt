import matplotlib.pyplot as plt
import pandas

Date = []
Price = []
Year = []

def Substitute(dataframe, coluna, valor, por):
    dataframe[coluna] = dataframe[coluna].astype(str).str.replace(valor, por)
    
    return(dataframe)

def Reduce(dataframe, coluna):
    dataframe[coluna] = dataframe[coluna].astype(str).str[:4]
    
    return(dataframe)

Gold_Prices = pandas.read_csv('gold_prices_monthly.csv')

Gold_Prices = Substitute(Gold_Prices, 'Date', '-', '')
Gold_Prices = Reduce(Gold_Prices, 'Date')

for Index in range(847):
    if Index <= 599 or Index >= 792:
        Gold_Prices = Gold_Prices.drop(Index, axis = 0)

dataframe = pandas.read_csv('SP500_prices_montly.csv')

del dataframe['Dividend']
del dataframe['Earnings']
del dataframe['Consumer Price Index']
del dataframe['Long Interest Rate']
del dataframe['Real Price']
del dataframe['Real Dividend']
del dataframe['Real Earnings']
del dataframe['PE10']

dataframe = Substitute(dataframe, 'Date', '-', '')
dataframe = Reduce(dataframe, 'Date')

for Index in range(1768):
    if Index <= 1547 or Index >= 1740:
        dataframe = dataframe.drop(Index, axis = 0)

fig, ax = plt.subplots() 

ax.plot(Gold_Prices['Date'], Gold_Prices['Price'])
ax.plot(dataframe['Date'], dataframe['Price'])

ax.set_title('Ouro x Bolsa de NY')
ax.legend(['Preço do Ouro', 'Preço da Bolsa de NY'])
ax.set_xlabel('Ano')
ax.set_ylabel('Preço')

plt.show()